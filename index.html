<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Best Seller Promotion - Affiliate</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
    <style>
        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
        }
        .product-card {
            transition: transform 0.2s;
        }
        .product-card:hover {
            transform: translateY(-5px);
        }
        .header-banner {
            background: linear-gradient(135deg, #3b82f6 0%, #1e40af 100%);
        }
    </style>
</head>
<body class="bg-gray-50">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Product Categories
        const categories = {
            "Home Security": ["Motion-sensor lights", "Deadbolt locks", "Door alarms", "Security cameras"],
            "Tools & Installation": ["Electric drill", "Screwdriver set", "Ladder", "Tool kit"],
            "Food Storage": ["Vacuum sealer", "Storage containers", "Shelving units"],
            "Medical Supplies": ["First aid kit", "Medications", "Bandages"],
            "Communication": ["Emergency radio", "Walkie-talkies", "Satellite phone"],
        };

        // Product Data
        const products = [
            {
                id: 1,
                title: "Motion-sensor lights",
                price: 99.90,
                category: "Home Security",
                image: "/api/placeholder/400/300",
                affiliateLink: "https://amzn.to/3Nd6iKw",
                rating: 4.5,
                description: "High-sensitivity motion detection with wide coverage area"
            },
            {
                id: 2,
                title: "Deadbolt locks",
                price: 26.83,
                category: "Home Security",
                image: "/api/placeholder/400/300",
                affiliateLink: "https://amzn.to/3ZN59Rv",
                rating: 4.8,
                description: "High-security grade 1 deadbolt with SmartKey technology"
            },
            // Add all products from the provided list...
        ];

        // Header Component
        const Header = ({ searchTerm, setSearchTerm }) => (
            <header className="header-banner text-white py-8 px-4 mb-8">
                <div className="container mx-auto">
                    <h1 className="text-4xl font-bold text-center mb-6">Best Seller Promotion - Affiliate</h1>
                    <div className="max-w-xl mx-auto">
                        <input
                            type="text"
                            placeholder="Search products..."
                            className="w-full px-4 py-2 rounded-lg text-gray-900"
                            value={searchTerm}
                            onChange={(e) => setSearchTerm(e.target.value)}
                        />
                    </div>
                </div>
            </header>
        );

        // Category Filter Component
        const CategoryFilter = ({ categories, selected, onSelect }) => (
            <div className="bg-white rounded-lg shadow-md p-4 mb-6">
                <h2 className="text-xl font-semibold mb-4">Categories</h2>
                <div className="space-y-2">
                    <button
                        onClick={() => onSelect(null)}
                        className={`w-full text-left px-3 py-2 rounded ${!selected ? 'bg-blue-500 text-white' : 'hover:bg-gray-100'}`}
                    >
                        All Products
                    </button>
                    {Object.keys(categories).map(category => (
                        <button
                            key={category}
                            onClick={() => onSelect(category)}
                            className={`w-full text-left px-3 py-2 rounded ${selected === category ? 'bg-blue-500 text-white' : 'hover:bg-gray-100'}`}
                        >
                            {category}
                        </button>
                    ))}
                </div>
            </div>
        );

        // Product Card Component
        const ProductCard = ({ product }) => (
            <div className="product-card bg-white rounded-lg shadow-md overflow-hidden">
                <img src={product.image} alt={product.title} className="w-full h-48 object-cover"/>
                <div className="p-4">
                    <span className="text-sm text-blue-600 font-semibold">{product.category}</span>
                    <h3 className="text-lg font-semibold mt-1 mb-2">{product.title}</h3>
                    <div className="flex items-center justify-between mb-4">
                        <span className="text-2xl font-bold text-green-600">${product.price.toFixed(2)}</span>
                        <div className="text-yellow-400">
                            {'★'.repeat(Math.floor(product.rating))}
                            <span className="text-gray-400">{'★'.repeat(5-Math.floor(product.rating))}</span>
                        </div>
                    </div>
                    <a
                        href={product.affiliateLink}
                        target="_blank"
                        rel="noopener noreferrer"
                        className="block w-full text-center bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors"
                    >
                        View on Amazon
                    </a>
                </div>
            </div>
        );

        // Main App Component
        const App = () => {
            const [searchTerm, setSearchTerm] = useState('');
            const [selectedCategory, setSelectedCategory] = useState(null);
            const [filteredProducts, setFilteredProducts] = useState(products);

            useEffect(() => {
                const filtered = products.filter(product => {
                    const matchesSearch = product.title.toLowerCase().includes(searchTerm.toLowerCase());
                    const matchesCategory = !selectedCategory || product.category === selectedCategory;
                    return matchesSearch && matchesCategory;
                });
                setFilteredProducts(filtered);
            }, [searchTerm, selectedCategory]);

            return (
                <div>
                    <Header searchTerm={searchTerm} setSearchTerm={setSearchTerm} />
                    <main className="container mx-auto px-4 pb-8">
                        <div className="flex flex-col md:flex-row gap-8">
                            <aside className="md:w-64 flex-shrink-0">
                                <CategoryFilter
                                    categories={categories}
                                    selected={selectedCategory}
                                    onSelect={setSelectedCategory}
                                />
                            </aside>
                            <div className="flex-grow">
                                <div className="product-grid">
                                    {filteredProducts.map(product => (
                                        <ProductCard key={product.id} product={product} />
                                    ))}
                                </div>
                                {filteredProducts.length === 0 && (
                                    <div className="text-center text-gray-500 mt-8">
                                        No products found matching your criteria
                                    </div>
                                )}
                            </div>
                        </div>
                    </main>
                </div>
            );
        };

        // Render the app
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>