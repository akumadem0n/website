<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Best Seller Promotion - Affiliate</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
    <style>
        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
        }
        .product-card {
            transition: transform 0.2s;
        }
        .product-card:hover {
            transform: translateY(-5px);
        }
        .header-banner {
            background: linear-gradient(135deg, #3b82f6 0%, #1e40af 100%);
        }
    </style>
</head>
<body class="bg-gray-50">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Product Categories
        const categories = {
            "Home Security": products.filter(p => p.category === "Home Security").length,
            "Food Storage": products.filter(p => p.category === "Food Storage").length,
            "Home Fortification": products.filter(p => p.category === "Home Fortification").length,
            "Defense Equipment": products.filter(p => p.category === "Defense Equipment").length,
            "Food Preservation": products.filter(p => p.category === "Food Preservation").length,
            "Water Management": products.filter(p => p.category === "Water Management").length,
            "Power Solutions": products.filter(p => p.category === "Power Solutions").length,
            "Medical Supplies": products.filter(p => p.category === "Medical Supplies").length,
            "Communication": products.filter(p => p.category === "Communication").length
        };

        // Product Data
        const products = [
            {
                id: 1,
                title: "Motion-sensor lights",
                price: 99.90,
                category: "Home Security",
                image: "/api/placeholder/400/300",
                affiliateLink: "https://amzn.to/3Nd6iKw",
                rating: 4.5
            },
            {
                id: 2,
                title: "Deadbolt locks",
                price: 26.83,
                category: "Home Security",
                image: "/api/placeholder/380/300",
                affiliateLink: "https://amzn.to/3ZN59Rv",
                rating: 4.8
            },
            {
                id: 3,
                title: "Reinforced strike plates",
                price: 24.87,
                category: "Home Security",
                image: "/api/placeholder/420/300",
                affiliateLink: "https://amzn.to/3TSwnCz",
                rating: 4.6
            },
            {
                id: 4,
                title: "Door and window alarms",
                price: 23.42,
                category: "Home Security",
                image: "/api/placeholder/390/300",
                affiliateLink: "https://amzn.to/4ewwFHK",
                rating: 4.3
            },
            {
                id: 13,
                title: "Vacuum sealer",
                price: 59.49,
                category: "Food Storage",
                image: "/api/placeholder/410/300",
                affiliateLink: "https://amzn.to/4gQJxK3",
                rating: 4.7
            },
            {
                id: 14,
                title: "Food-grade water storage containers",
                price: 72.15,
                category: "Food Storage",
                image: "/api/placeholder/400/320",
                affiliateLink: "https://amzn.to/3BsrHwU",
                rating: 4.4
            },
            {
                id: 25,
                title: "Steel or solid core security door",
                price: 113.15,
                category: "Home Fortification",
                image: "/api/placeholder/430/300",
                affiliateLink: "https://amzn.to/3TM9QXR",
                rating: 4.9
            },
            {
                id: 32,
                title: "Home defense weapons safe",
                price: 82.12,
                category: "Defense Equipment",
                image: "/api/placeholder/400/310",
                affiliateLink: "https://amzn.to/3TSGrLU",
                rating: 4.8
            },
            {
                id: 44,
                title: "Dehydrator",
                price: 40.46,
                category: "Food Preservation",
                image: "/api/placeholder/370/300",
                affiliateLink: "https://amzn.to/3N6eqg7",
                rating: 4.5
            },
            {
                id: 54,
                title: "Rainwater collection barrels",
                price: 114.29,
                category: "Water Management",
                image: "/api/placeholder/410/310",
                affiliateLink: "https://amzn.to/47OaytI",
                rating: 4.6
            },
            {
                id: 66,
                title: "Portable solar panels",
                price: 103.22,
                category: "Power Solutions",
                image: "/api/placeholder/420/310",
                affiliateLink: "https://amzn.to/4gLeZcJ",
                rating: 4.7
            },
            {
                id: 77,
                title: "Comprehensive first aid kit",
                price: 119.52,
                category: "Medical Supplies",
                image: "/api/placeholder/400/290",
                affiliateLink: "https://amzn.to/3Y4zQQZ",
                rating: 4.8
            },
            {
                id: 89,
                title: "Hand-crank emergency radios",
                price: 76.36,
                category: "Communication",
                image: "/api/placeholder/390/310",
                affiliateLink: "https://amzn.to/3TTu95N",
                rating: 4.4
            },
            {
                id: 90,
                title: "Long-range walkie-talkies",
                price: 110.81,
                category: "Communication",
                image: "/api/placeholder/380/310",
                affiliateLink: "https://amzn.to/4eO8HqP",
                rating: 4.6
            },
            {
                id: 91,
                title: "HAM radios",
                price: 40.81,
                category: "Communication",
                image: "/api/placeholder/410/290",
                affiliateLink: "https://amzn.to/3Y5lD6d",
                rating: 4.5
            }
        ];

        // Header Component
        const Header = ({ searchTerm, setSearchTerm }) => (
            <header className="header-banner text-white py-8 px-4 mb-8">
                <div className="container mx-auto">
                    <h1 className="text-4xl font-bold text-center mb-6">Best Seller Promotion - Affiliate</h1>
                    <div className="max-w-xl mx-auto">
                        <input
                            type="text"
                            placeholder="Search products..."
                            className="w-full px-4 py-2 rounded-lg text-gray-900"
                            value={searchTerm}
                            onChange={(e) => setSearchTerm(e.target.value)}
                        />
                    </div>
                </div>
            </header>
        );

        // Category Filter Component
        const CategoryFilter = ({ categories, selected, onSelect }) => (
            <div className="bg-white rounded-lg shadow-md p-4 mb-6">
                <h2 className="text-xl font-semibold mb-4">Categories</h2>
                <div className="space-y-2">
                    <button
                        onClick={() => onSelect(null)}
                        className={`w-full text-left px-3 py-2 rounded ${!selected ? 'bg-blue-500 text-white' : 'hover:bg-gray-100'}`}
                    >
                        All Products
                    </button>
                    {Object.keys(categories).map(category => (
                        <button
                            key={category}
                            onClick={() => onSelect(category)}
                            className={`w-full text-left px-3 py-2 rounded ${selected === category ? 'bg-blue-500 text-white' : 'hover:bg-gray-100'}`}
                        >
                            {category}
                        </button>
                    ))}
                </div>
            </div>
        );

        // Product Card Component
        const ProductCard = ({ product }) => (
            <div className="product-card bg-white rounded-lg shadow-md overflow-hidden">
                <img src={product.image} alt={product.title} className="w-full h-48 object-cover"/>
                <div className="p-4">
                    <span className="text-sm text-blue-600 font-semibold">{product.category}</span>
                    <h3 className="text-lg font-semibold mt-1 mb-2">{product.title}</h3>
                    <div className="flex items-center justify-between mb-4">
                        <span className="text-2xl font-bold text-green-600">${product.price.toFixed(2)}</span>
                        <div className="text-yellow-400">
                            {'★'.repeat(Math.floor(product.rating))}
                            <span className="text-gray-400">{'★'.repeat(5-Math.floor(product.rating))}</span>
                        </div>
                    </div>
                    <a
                        href={product.affiliateLink}
                        target="_blank"
                        rel="noopener noreferrer"
                        className="block w-full text-center bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors"
                    >
                        View on Amazon
                    </a>
                </div>
            </div>
        );

        // Main App Component
        const App = () => {
            const [searchTerm, setSearchTerm] = useState('');
            const [selectedCategory, setSelectedCategory] = useState(null);
            const [filteredProducts, setFilteredProducts] = useState(products);

            useEffect(() => {
                const filtered = products.filter(product => {
                    const matchesSearch = product.title.toLowerCase().includes(searchTerm.toLowerCase());
                    const matchesCategory = !selectedCategory || product.category === selectedCategory;
                    return matchesSearch && matchesCategory;
                });
                setFilteredProducts(filtered);
            }, [searchTerm, selectedCategory]);

            return (
                <div>
                    <Header searchTerm={searchTerm} setSearchTerm={setSearchTerm} />
                    <main className="container mx-auto px-4 pb-8">
                        <div className="flex flex-col md:flex-row gap-8">
                            <aside className="md:w-64 flex-shrink-0">
                                <CategoryFilter
                                    categories={categories}
                                    selected={selectedCategory}
                                    onSelect={setSelectedCategory}
                                />
                            </aside>
                            <div className="flex-grow">
                                <div className="product-grid">
                                    {filteredProducts.map(product => (
                                        <ProductCard key={product.id} product={product} />
                                    ))}
                                </div>
                                {filteredProducts.length === 0 && (
                                    <div className="text-center text-gray-500 mt-8">
                                        No products found matching your criteria
                                    </div>
                                )}
                            </div>
                        </div>
                    </main>
                </div>
            );
        };

        // Render the app
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>